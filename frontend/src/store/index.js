//////////////////////////////////////////////////////////////
// This file is part of project the World-News for Molinos
// Author - Ivan Popov
// Site - ivan-popov.ru
// Copyright (C) 2018.
//////////////////////////////////////////////////////////////
import { createStore } from 'redux';
import reducer from '../reducers';
// import state from './state.json';

//////////////////////////////////////////////////////////////

import { loadState, saveState } from '../middleware/local-storage';

//////////////////////////////////////////////////////////////
const store = createStore(reducer, loadState());

store.subscribe(
    () => {
        saveState(
            {
                ...store.getState()
            }
        );
    }
);

//////////////////////////////////////////////////////////////
export default store;

//////////////////////////////////////////////////////////////